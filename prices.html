<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App Pricing</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            text-align: center;
        }
        select, button {
            display: block;
            margin: 20px auto;
            padding: 10px;
            font-size: 16px;
        }
        .prices {
            text-align: center;
            margin-top: 20px;
        }
        .price {
            font-size: 18px;
            margin: 10px 0;
        }
    </style>
    <script src="detectLang.js"></script> <!-- Language detection script -->
    <script>
        const prices = {
            "Group1": {
                oneTime: 50,
                monthly: 5,
                yearly: 50
            },
            "Group2": {
                oneTime: 60,
                monthly: 6,
                yearly: 60
            },
            "Other": {
                oneTime: 70,
                monthly: 7,
                yearly: 70
            }
        };

        const countries = {
            "Group1": ["United States", "Canada", "France"],
            "Group2": ["India", "Egypt", "Brazil"],
            "Other": ["Other"]
        };

        document.addEventListener("DOMContentLoaded", () => {
            // Get language from detectLang.js
            const lang = detectLang(); // Assume detectLang() is defined in detectLang.js
            document.querySelectorAll("[data-en], [data-fr], [data-ar]").forEach(element => {
                const translation = element.getAttribute(`data-${lang}`) || element.getAttribute("data-en");
                if (translation) element.textContent = translation;
            });

            // Populate country dropdown
            const countrySelect = document.getElementById("country");
            Object.keys(countries).forEach(group => {
                countries[group].forEach(country => {
                    const option = document.createElement("option");
                    option.value = group;
                    option.textContent = country;
                    countrySelect.appendChild(option);
                });
            });

            // Display prices based on selection
            countrySelect.addEventListener("change", () => {
                const group = countrySelect.value;
                const groupPrices = prices[group];
                if (groupPrices) {
                    document.getElementById("oneTime").textContent = `${document.getElementById("oneTime").getAttribute(`data-${lang}`)} $${groupPrices.oneTime}`;
                    document.getElementById("monthly").textContent = `${document.getElementById("monthly").getAttribute(`data-${lang}`)} $${groupPrices.monthly}`;
                    document.getElementById("yearly").textContent = `${document.getElementById("yearly").getAttribute(`data-${lang}`)} $${groupPrices.yearly}`;
                } else {
                    document.getElementById("oneTime").textContent = "";
                    document.getElementById("monthly").textContent = "";
                    document.getElementById("yearly").textContent = "";
                }
            });
        });
    </script>
</head>
<body>
    <h1 id="title" data-en="Pricing for My Store App" data-ar="أسعار تطبيق متجري" data-fr="Tarifs de My Store App"></h1>
    <label id="selectCountryLabel" data-en="Select your country:" data-ar="اختر دولتك:" data-fr="Sélectionnez votre pays :"></label>
    <select id="country">
        <option value="" disabled selected>Select your country</option>
    </select>
    <div class="prices">
        <div id="oneTime" class="price" data-en="One-time payment:" data-ar="دفع لمرة واحدة:" data-fr="Paiement unique :"></div>
        <div id="monthly" class="price" data-en="Monthly subscription (includes 1 free month trial):" data-ar="اشتراك شهري (يشمل شهرًا تجريبيًا مجانيًا):" data-fr="Abonnement mensuel (inclut 1 mois d'essai gratuit) :"></div>
        <div id="yearly" class="price" data-en="Yearly subscription (includes 1 free month trial):" data-ar="اشتراك سنوي (يشمل شهرًا تجريبيًا مجانيًا):" data-fr="Abonnement annuel (inclut 1 mois d'essai gratuit) :"></div>
    </div>
    <button id="downloadBtn" data-en="Download the Application" data-ar="تحميل التطبيق" data-fr="Télécharger l'application" onclick="window.location.href='/download'"></button>
</body>
</html>
